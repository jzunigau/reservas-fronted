{"ast":null,"code":"import React,{useState,useContext,useEffect}from'react';import{AuthContext}from'../context/AuthContext';import{obtenerReservas,guardarReserva,existeReservaEnSlot,formatearReservaDesdeFormulario,obtenerReservasPorFecha}from'../utils/reservasService';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const bloques=[{id:1,hora:'08:00 - 10:00'},{id:2,hora:'10:00 - 12:00'},{id:3,hora:'12:00 - 14:00'},{id:4,hora:'14:00 - 16:00'},{id:5,hora:'16:00 - 18:00'}];const diasSemana=['Lunes','Martes','Miércoles','Jueves','Viernes'];const subBloques=['1° hora','2° hora'];// Función para obtener el número de semana y el rango de lunes a viernes\nfunction getSemanaInfo(fechaStr){if(!fechaStr)return null;const fecha=new Date(fechaStr+'T00:00:00');// Obtener el día de la semana (0=domingo, 1=lunes, ...)\nconst diaSemana=fecha.getDay();// Calcular el lunes de esa semana\nconst lunes=new Date(fecha);lunes.setDate(fecha.getDate()-(diaSemana+6)%7);// Calcular el viernes de esa semana\nconst viernes=new Date(lunes);viernes.setDate(lunes.getDate()+4);// Número de semana ISO-8601\nconst temp=new Date(lunes.getTime());temp.setHours(0,0,0,0);temp.setDate(temp.getDate()+3-(temp.getDay()+6)%7);const firstThursday=temp.getTime();temp.setMonth(0,1);if(temp.getDay()!==4){temp.setMonth(0,1+(4-temp.getDay()+7)%7);}const weekNumber=1+Math.round((firstThursday-temp.getTime())/(7*24*3600*1000));// Formatear fechas\nconst format=d=>d.toLocaleDateString('es-ES',{day:'2-digit',month:'2-digit',year:'numeric'});return{semana:weekNumber,lunes:format(lunes),viernes:format(viernes)};}const ReservasPage=()=>{const{user}=useContext(AuthContext);const[fechaSeleccionada,setFechaSeleccionada]=useState('');const[modalAbierto,setModalAbierto]=useState(false);const[reservaSeleccionada,setReservaSeleccionada]=useState(null);const[formData,setFormData]=useState({curso:'',asignatura:'',profesor:(user===null||user===void 0?void 0:user.nombre)||'',bloque:'',fecha:'',tipoBloque:'completo'});const[reservasDelDia,setReservasDelDia]=useState([]);const[todasLasReservas,setTodasLasReservas]=useState([]);const semanaInfo=getSemanaInfo(fechaSeleccionada);const obtenerFechaActual=()=>{const hoy=new Date();return hoy.toISOString().split('T')[0];};// Cargar reservas cuando cambia la fecha\nuseEffect(()=>{const cargarReservas=async()=>{if(fechaSeleccionada){try{const reservas=await obtenerReservasPorFecha(fechaSeleccionada);setReservasDelDia(reservas);}catch(error){console.error('Error al cargar reservas del día:',error);setReservasDelDia([]);}}else{setReservasDelDia([]);}// Cargar todas las reservas para el debug\ntry{const todas=await obtenerReservas();setTodasLasReservas(todas);}catch(error){console.error('Error al cargar todas las reservas:',error);setTodasLasReservas([]);}};cargarReservas();},[fechaSeleccionada]);// Al hacer click en una celda, guardar la info de la celda y abrir el modal\nconst handleCeldaClick=async(bloque,dia,subBloque)=>{try{// Verificar si ya existe una reserva en este slot\nconst existe=await existeReservaEnSlot(fechaSeleccionada,dia,bloque.id,subBloque);if(existe){alert('Ya existe una reserva en este horario. Selecciona otro slot disponible.');return;}setReservaSeleccionada({bloque,dia,subBloque});setFormData({...formData,bloque:`${bloque.id} - ${bloque.hora} (${subBloque})`,fecha:fechaSeleccionada,profesor:(user===null||user===void 0?void 0:user.nombre)||'',tipoBloque:'completo'});setModalAbierto(true);}catch(error){console.error('Error al verificar disponibilidad:',error);alert('Error al verificar disponibilidad. Inténtalo de nuevo.');}};// Función para manejar cambios en el formulario\nconst handleInputChange=e=>{setFormData({...formData,[e.target.name]:e.target.value});};// Guardar la reserva usando el sistema de almacenamiento\nconst handleSubmitReserva=async e=>{e.preventDefault();try{const datosReserva=formatearReservaDesdeFormulario(formData,reservaSeleccionada);const reservaGuardada=await guardarReserva(datosReserva);if(reservaGuardada){// Actualizar la lista de reservas del día\nconst reservasActualizadas=await obtenerReservasPorFecha(fechaSeleccionada);setReservasDelDia(reservasActualizadas);// Actualizar todas las reservas para el debug\nconst todasActualizadas=await obtenerReservas();setTodasLasReservas(todasActualizadas);// Mostrar mensaje de éxito\nalert(`¡Reserva creada exitosamente! \n        \nDetalles:\n- Curso: ${formData.curso}\n- Asignatura: ${formData.asignatura}\n- Fecha: ${formData.fecha}\n- Bloque: ${formData.bloque}\n- Profesor: ${formData.profesor}\n        \nLa reserva aparecerá automáticamente en el calendario público.`);}else{alert('Error al guardar la reserva. Inténtalo de nuevo.');}setModalAbierto(false);setFormData({curso:'',asignatura:'',profesor:(user===null||user===void 0?void 0:user.nombre)||'',bloque:'',fecha:'',tipoBloque:'completo'});}catch(error){console.error('Error al procesar la reserva:',error);alert('Error al procesar la reserva. Verifica tu conexión e inténtalo de nuevo.');}};const cerrarModal=()=>{setModalAbierto(false);setFormData({curso:'',asignatura:'',profesor:(user===null||user===void 0?void 0:user.nombre)||'',bloque:'',fecha:'',tipoBloque:'completo'});};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-6xl mx-auto p-2 sm:p-3 lg:p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600 mb-1\",children:\"Sistema de Reservas\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm\",children:\"Gestiona las reservas del laboratorio de forma eficiente\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md p-3 mb-3 border border-gray-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row items-center justify-center gap-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"fecha\",className:\"text-sm font-semibold text-gray-700\",children:\"Selecciona una fecha:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"fecha\",name:\"fecha\",value:fechaSeleccionada,onChange:e=>setFechaSeleccionada(e.target.value),min:obtenerFechaActual(),className:\"px-3 py-1 border-2 border-blue-200 rounded-md focus:border-blue-500 focus:ring-1 focus:ring-blue-200 focus:outline-none transition-all duration-200 text-center text-sm\"})]})}),semanaInfo&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-blue-100 to-indigo-100 rounded-lg border border-blue-200 p-2 mb-3 text-center animate-fade-in\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-blue-700 font-bold text-sm\",children:[\"Semana \",semanaInfo.semana]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-blue-600 text-xs\",children:[semanaInfo.lunes,\" al \",semanaInfo.viernes]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-lg overflow-hidden border border-gray-100 h-96\",children:/*#__PURE__*/_jsx(\"div\",{className:\"overflow-auto h-full\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full border-collapse\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"sticky top-0\",children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-gradient-to-r from-blue-600 to-purple-600 text-white\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-2 py-2 text-center font-semibold text-xs uppercase tracking-wider border-r border-blue-700\",children:\"Horas/Bloq\"}),diasSemana.map(dia=>/*#__PURE__*/_jsx(\"th\",{className:\"px-2 py-2 text-center font-semibold text-xs uppercase tracking-wider border-r border-blue-700 last:border-r-0\",children:dia},dia))]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:bloques.map(bloque=>[0,1].map(subIdx=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50 transition-colors duration-200\",children:[subIdx===0&&/*#__PURE__*/_jsxs(\"td\",{rowSpan:2,className:\"px-2 py-3 text-center bg-gradient-to-b from-gray-50 to-gray-100 border-r border-gray-200 font-medium text-gray-700\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-bold text-blue-600 mb-1\",children:bloque.id}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 font-medium\",children:bloque.hora})]}),diasSemana.map(dia=>{const reservaEnSlot=reservasDelDia.find(r=>r.dia===dia&&String(r.bloque)===String(bloque.id)&&r.subBloque===subBloques[subIdx]);const existeReserva=!!reservaEnSlot;return/*#__PURE__*/_jsx(\"td\",{onClick:()=>!existeReserva&&fechaSeleccionada&&handleCeldaClick(bloque,dia,subBloques[subIdx]),className:`px-2 py-2 text-center border-r border-gray-200 last:border-r-0 transition-all duration-200 min-h-[40px] ${existeReserva?'bg-gradient-to-br from-red-100 to-pink-100 cursor-not-allowed':fechaSeleccionada?'bg-gradient-to-br from-green-50 to-emerald-50 cursor-pointer hover:from-green-100 hover:to-emerald-100 hover:shadow-md':'bg-gray-50 cursor-not-allowed'}`,children:existeReserva?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-0.5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-bold text-red-700 text-xs\",children:\"Reservado\"}),reservaEnSlot&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-red-600\",children:reservaEnSlot.curso}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-red-500\",children:reservaEnSlot.asignatura}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-red-400\",children:reservaEnSlot.profesor})]})]}):fechaSeleccionada&&/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-full\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-green-600 font-medium text-xs px-1 py-0.5 bg-green-100 rounded\",children:\"Disponible\"})})},`${bloque.id}-${dia}-${subIdx}`);})]},`${bloque.id}-${subIdx}`)))})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 p-4 bg-indigo-50 rounded-lg border border-indigo-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-bold text-indigo-700 mb-2\",children:\"\\uD83D\\uDCC5 \\xBFQuieres ver todas las reservas del mes?\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/calendario\",className:\"inline-block bg-indigo-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-indigo-700 transition-colors duration-200\",children:\"Ver Calendario Mensual\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-indigo-600 mt-2\",children:\"Las reservas que hagas aqu\\xED aparecer\\xE1n autom\\xE1ticamente en el calendario\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 bg-gray-50 rounded-lg p-4 border border-gray-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-bold text-gray-700 mb-2\",children:\"\\uD83D\\uDCCA Estad\\xEDsticas del Sistema:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-100 p-3 rounded-lg text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-blue-600\",children:todasLasReservas.length}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-blue-700\",children:\"Total Reservas\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-100 p-3 rounded-lg text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-green-600\",children:reservasDelDia.length}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-green-700\",children:\"Reservas Hoy\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-purple-100 p-3 rounded-lg text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-purple-600\",children:new Set(todasLasReservas.map(r=>r.profesor)).size}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-purple-700\",children:\"Profesores Activos\"})]})]}),todasLasReservas.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-700 mb-2\",children:\"\\uD83D\\uDD52 \\xDAltimas 3 Reservas:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:todasLasReservas.slice(-3).reverse().map(reserva=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-2 rounded border text-xs\",children:[/*#__PURE__*/_jsx(\"strong\",{children:reserva.curso}),\" - \",reserva.asignatura,\" |\",new Date(reserva.fecha).toLocaleDateString('es-ES'),\" | Bloque \",reserva.bloque,\" (\",reserva.subBloque,\") |\",reserva.profesor]},reserva.id))})]})]}),modalAbierto&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 animate-fade-in\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-2xl max-w-sm w-full max-h-[67vh] animate-bounce-in\",style:{boxShadow:'8px 8px 25px rgba(0, 0, 0, 0.3), 4px 4px 15px rgba(0, 0, 0, 0.2)'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-center mb-4 text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600\",children:\"Registrar Reserva\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmitReserva,className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-1\",children:\"Curso:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"curso\",value:formData.curso,onChange:handleInputChange,required:true,className:\"w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 focus:outline-none transition-all duration-200\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Selecciona un curso\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\\xB0A\",children:\"1\\xB0A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\\xB0B\",children:\"1\\xB0B\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\\xB0C\",children:\"1\\xB0C\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\\xB0A\",children:\"2\\xB0A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\\xB0B\",children:\"2\\xB0B\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\\xB0C\",children:\"2\\xB0C\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\\xB0A\",children:\"3\\xB0A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\\xB0B\",children:\"3\\xB0B\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\\xB0C\",children:\"3\\xB0C\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4\\xB0A\",children:\"4\\xB0A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4\\xB0B\",children:\"4\\xB0B\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4\\xB0C\",children:\"4\\xB0C\"}),/*#__PURE__*/_jsx(\"option\",{value:\"5\\xB0A\",children:\"5\\xB0A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"5\\xB0B\",children:\"5\\xB0B\"}),/*#__PURE__*/_jsx(\"option\",{value:\"5\\xB0C\",children:\"5\\xB0C\"}),/*#__PURE__*/_jsx(\"option\",{value:\"6\\xB0A\",children:\"6\\xB0A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"6\\xB0B\",children:\"6\\xB0B\"}),/*#__PURE__*/_jsx(\"option\",{value:\"6\\xB0C\",children:\"6\\xB0C\"}),/*#__PURE__*/_jsx(\"option\",{value:\"7\\xB0A\",children:\"7\\xB0A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"7\\xB0B\",children:\"7\\xB0B\"}),/*#__PURE__*/_jsx(\"option\",{value:\"7\\xB0C\",children:\"7\\xB0C\"}),/*#__PURE__*/_jsx(\"option\",{value:\"8\\xB0A\",children:\"8\\xB0A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"8\\xB0B\",children:\"8\\xB0B\"}),/*#__PURE__*/_jsx(\"option\",{value:\"8\\xB0C\",children:\"8\\xB0C\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-1\",children:\"Asignatura:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"asignatura\",value:formData.asignatura,onChange:handleInputChange,required:true,className:\"w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 focus:outline-none transition-all duration-200\",placeholder:\"Ej: Matem\\xE1ticas\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-1\",children:\"Profesor:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"profesor\",value:formData.profesor,onChange:handleInputChange,required:true,className:\"w-full px-3 py-2 border-2 border-gray-200 rounded-lg bg-gray-50 text-gray-600 cursor-not-allowed\",readOnly:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-1\",children:\"Bloque:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"bloque\",value:formData.bloque,onChange:handleInputChange,required:true,className:\"w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 focus:outline-none transition-all duration-200\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Selecciona un bloque\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Bloque completo\",children:\"Bloque completo\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\\xB0 hora\",children:\"1\\xB0 hora\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\\xB0 hora\",children:\"2\\xB0 hora\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-1\",children:\"Fecha:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"fecha\",value:formData.fecha,onChange:handleInputChange,required:true,className:\"w-full px-3 py-2 border-2 border-gray-200 rounded-lg bg-gray-50 text-gray-600 cursor-not-allowed\",readOnly:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3 pt-2\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:cerrarModal,className:\"flex-1 px-4 py-2 border-2 border-red-500 text-red-500 rounded-lg hover:bg-red-50 transition-all duration-200 font-semibold\",children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"flex-1 px-4 py-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-lg hover:from-green-600 hover:to-emerald-600 transition-all duration-200 font-semibold shadow-lg hover:shadow-xl\",children:\"Registrar\"})]})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-6 pt-4 border-t border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500 leading-tight\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Desarrollado por Bit Core\"}),/*#__PURE__*/_jsx(\"div\",{children:\"para Jorge Z\\xFA\\xF1iga U.\"})]})})]})});};export default ReservasPage;","map":{"version":3,"names":["React","useState","useContext","useEffect","AuthContext","obtenerReservas","guardarReserva","existeReservaEnSlot","formatearReservaDesdeFormulario","obtenerReservasPorFecha","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","bloques","id","hora","diasSemana","subBloques","getSemanaInfo","fechaStr","fecha","Date","diaSemana","getDay","lunes","setDate","getDate","viernes","temp","getTime","setHours","firstThursday","setMonth","weekNumber","Math","round","format","d","toLocaleDateString","day","month","year","semana","ReservasPage","user","fechaSeleccionada","setFechaSeleccionada","modalAbierto","setModalAbierto","reservaSeleccionada","setReservaSeleccionada","formData","setFormData","curso","asignatura","profesor","nombre","bloque","tipoBloque","reservasDelDia","setReservasDelDia","todasLasReservas","setTodasLasReservas","semanaInfo","obtenerFechaActual","hoy","toISOString","split","cargarReservas","reservas","error","console","todas","handleCeldaClick","dia","subBloque","existe","alert","handleInputChange","e","target","name","value","handleSubmitReserva","preventDefault","datosReserva","reservaGuardada","reservasActualizadas","todasActualizadas","cerrarModal","className","children","htmlFor","type","onChange","min","map","subIdx","rowSpan","reservaEnSlot","find","r","String","existeReserva","onClick","href","length","Set","size","slice","reverse","reserva","style","boxShadow","onSubmit","required","placeholder","readOnly"],"sources":["C:/Users/Jorge/Desktop/Reservas/frontend/src/pages/ReservasPage.js"],"sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\r\nimport { AuthContext } from '../context/AuthContext';\r\nimport { \r\n  obtenerReservas, \r\n  guardarReserva, \r\n  existeReservaEnSlot, \r\n  formatearReservaDesdeFormulario,\r\n  obtenerReservasPorFecha \r\n} from '../utils/reservasService';\r\n\r\nconst bloques = [\r\n  { id: 1, hora: '08:00 - 10:00' },\r\n  { id: 2, hora: '10:00 - 12:00' },\r\n  { id: 3, hora: '12:00 - 14:00' },\r\n  { id: 4, hora: '14:00 - 16:00' },\r\n  { id: 5, hora: '16:00 - 18:00' },\r\n];\r\n\r\nconst diasSemana = ['Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes'];\r\nconst subBloques = ['1° hora', '2° hora'];\r\n\r\n// Función para obtener el número de semana y el rango de lunes a viernes\r\nfunction getSemanaInfo(fechaStr) {\r\n  if (!fechaStr) return null;\r\n  const fecha = new Date(fechaStr + 'T00:00:00');\r\n  // Obtener el día de la semana (0=domingo, 1=lunes, ...)\r\n  const diaSemana = fecha.getDay();\r\n  // Calcular el lunes de esa semana\r\n  const lunes = new Date(fecha);\r\n  lunes.setDate(fecha.getDate() - ((diaSemana + 6) % 7));\r\n  // Calcular el viernes de esa semana\r\n  const viernes = new Date(lunes);\r\n  viernes.setDate(lunes.getDate() + 4);\r\n  // Número de semana ISO-8601\r\n  const temp = new Date(lunes.getTime());\r\n  temp.setHours(0,0,0,0);\r\n  temp.setDate(temp.getDate() + 3 - ((temp.getDay() + 6) % 7));\r\n  const firstThursday = temp.getTime();\r\n  temp.setMonth(0, 1);\r\n  if (temp.getDay() !== 4) {\r\n    temp.setMonth(0, 1 + ((4 - temp.getDay()) + 7) % 7);\r\n  }\r\n  const weekNumber = 1 + Math.round((firstThursday - temp.getTime()) / (7 * 24 * 3600 * 1000));\r\n  // Formatear fechas\r\n  const format = d => d.toLocaleDateString('es-ES', { day: '2-digit', month: '2-digit', year: 'numeric' });\r\n  return {\r\n    semana: weekNumber,\r\n    lunes: format(lunes),\r\n    viernes: format(viernes)\r\n  };\r\n}\r\n\r\nconst ReservasPage = () => {\r\n  const { user } = useContext(AuthContext);\r\n  const [fechaSeleccionada, setFechaSeleccionada] = useState('');\r\n  const [modalAbierto, setModalAbierto] = useState(false);\r\n  const [reservaSeleccionada, setReservaSeleccionada] = useState(null);\r\n  const [formData, setFormData] = useState({\r\n    curso: '',\r\n    asignatura: '',\r\n    profesor: user?.nombre || '',\r\n    bloque: '',\r\n    fecha: '',\r\n    tipoBloque: 'completo',\r\n  });\r\n  const [reservasDelDia, setReservasDelDia] = useState([]);\r\n  const [todasLasReservas, setTodasLasReservas] = useState([]);\r\n\r\n  const semanaInfo = getSemanaInfo(fechaSeleccionada);\r\n\r\n  const obtenerFechaActual = () => {\r\n    const hoy = new Date();\r\n    return hoy.toISOString().split('T')[0];\r\n  };\r\n\r\n  // Cargar reservas cuando cambia la fecha\r\n  useEffect(() => {\r\n    const cargarReservas = async () => {\r\n      if (fechaSeleccionada) {\r\n        try {\r\n          const reservas = await obtenerReservasPorFecha(fechaSeleccionada);\r\n          setReservasDelDia(reservas);\r\n        } catch (error) {\r\n          console.error('Error al cargar reservas del día:', error);\r\n          setReservasDelDia([]);\r\n        }\r\n      } else {\r\n        setReservasDelDia([]);\r\n      }\r\n      \r\n      // Cargar todas las reservas para el debug\r\n      try {\r\n        const todas = await obtenerReservas();\r\n        setTodasLasReservas(todas);\r\n      } catch (error) {\r\n        console.error('Error al cargar todas las reservas:', error);\r\n        setTodasLasReservas([]);\r\n      }\r\n    };\r\n\r\n    cargarReservas();\r\n  }, [fechaSeleccionada]);\r\n\r\n  // Al hacer click en una celda, guardar la info de la celda y abrir el modal\r\n  const handleCeldaClick = async (bloque, dia, subBloque) => {\r\n    try {\r\n      // Verificar si ya existe una reserva en este slot\r\n      const existe = await existeReservaEnSlot(fechaSeleccionada, dia, bloque.id, subBloque);\r\n      if (existe) {\r\n        alert('Ya existe una reserva en este horario. Selecciona otro slot disponible.');\r\n        return;\r\n      }\r\n\r\n      setReservaSeleccionada({ bloque, dia, subBloque });\r\n      setFormData({\r\n        ...formData,\r\n        bloque: `${bloque.id} - ${bloque.hora} (${subBloque})`,\r\n        fecha: fechaSeleccionada,\r\n        profesor: user?.nombre || '',\r\n        tipoBloque: 'completo',\r\n      });\r\n      setModalAbierto(true);\r\n    } catch (error) {\r\n      console.error('Error al verificar disponibilidad:', error);\r\n      alert('Error al verificar disponibilidad. Inténtalo de nuevo.');\r\n    }\r\n  };\r\n\r\n  // Función para manejar cambios en el formulario\r\n  const handleInputChange = (e) => {\r\n    setFormData({\r\n      ...formData,\r\n      [e.target.name]: e.target.value\r\n    });\r\n  };\r\n\r\n  // Guardar la reserva usando el sistema de almacenamiento\r\n  const handleSubmitReserva = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    try {\r\n      const datosReserva = formatearReservaDesdeFormulario(formData, reservaSeleccionada);\r\n      const reservaGuardada = await guardarReserva(datosReserva);\r\n      \r\n      if (reservaGuardada) {\r\n        // Actualizar la lista de reservas del día\r\n        const reservasActualizadas = await obtenerReservasPorFecha(fechaSeleccionada);\r\n        setReservasDelDia(reservasActualizadas);\r\n        \r\n        // Actualizar todas las reservas para el debug\r\n        const todasActualizadas = await obtenerReservas();\r\n        setTodasLasReservas(todasActualizadas);\r\n        \r\n        // Mostrar mensaje de éxito\r\n        alert(`¡Reserva creada exitosamente! \r\n        \r\nDetalles:\r\n- Curso: ${formData.curso}\r\n- Asignatura: ${formData.asignatura}\r\n- Fecha: ${formData.fecha}\r\n- Bloque: ${formData.bloque}\r\n- Profesor: ${formData.profesor}\r\n        \r\nLa reserva aparecerá automáticamente en el calendario público.`);\r\n      } else {\r\n        alert('Error al guardar la reserva. Inténtalo de nuevo.');\r\n      }\r\n      \r\n      setModalAbierto(false);\r\n      setFormData({\r\n        curso: '',\r\n        asignatura: '',\r\n        profesor: user?.nombre || '',\r\n        bloque: '',\r\n        fecha: '',\r\n        tipoBloque: 'completo',\r\n      });\r\n    } catch (error) {\r\n      console.error('Error al procesar la reserva:', error);\r\n      alert('Error al procesar la reserva. Verifica tu conexión e inténtalo de nuevo.');\r\n    }\r\n  };\r\n\r\n  const cerrarModal = () => {\r\n    setModalAbierto(false);\r\n    setFormData({\r\n      curso: '',\r\n      asignatura: '',\r\n      profesor: user?.nombre || '',\r\n      bloque: '',\r\n      fecha: '',\r\n      tipoBloque: 'completo',\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50\">\r\n      <div className=\"max-w-6xl mx-auto p-2 sm:p-3 lg:p-4\">\r\n        {/* Header */}\r\n        <div className=\"text-center mb-4\">\r\n          <h1 className=\"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600 mb-1\">\r\n            Sistema de Reservas\r\n          </h1>\r\n          <p className=\"text-gray-600 text-sm\">\r\n            Gestiona las reservas del laboratorio de forma eficiente\r\n          </p>\r\n        </div>\r\n\r\n        {/* Selector de fecha */}\r\n        <div className=\"bg-white rounded-lg shadow-md p-3 mb-3 border border-gray-100\">\r\n          <div className=\"flex flex-col sm:flex-row items-center justify-center gap-2\">\r\n            <label htmlFor=\"fecha\" className=\"text-sm font-semibold text-gray-700\">\r\n              Selecciona una fecha:\r\n            </label>\r\n            <input \r\n              type=\"date\" \r\n              id=\"fecha\" \r\n              name=\"fecha\" \r\n              value={fechaSeleccionada}\r\n              onChange={(e) => setFechaSeleccionada(e.target.value)}\r\n              min={obtenerFechaActual()}\r\n              className=\"px-3 py-1 border-2 border-blue-200 rounded-md focus:border-blue-500 focus:ring-1 focus:ring-blue-200 focus:outline-none transition-all duration-200 text-center text-sm\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Info de la semana seleccionada */}\r\n        {semanaInfo && (\r\n          <div className=\"bg-gradient-to-r from-blue-100 to-indigo-100 rounded-lg border border-blue-200 p-2 mb-3 text-center animate-fade-in\">\r\n            <div className=\"text-blue-700 font-bold text-sm\">\r\n              Semana {semanaInfo.semana}\r\n            </div>\r\n            <div className=\"text-blue-600 text-xs\">\r\n              {semanaInfo.lunes} al {semanaInfo.viernes}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Tabla de horarios */}\r\n        <div className=\"bg-white rounded-lg shadow-lg overflow-hidden border border-gray-100 h-96\">\r\n          <div className=\"overflow-auto h-full\">\r\n            <table className=\"w-full border-collapse\">\r\n              <thead className=\"sticky top-0\">\r\n                <tr className=\"bg-gradient-to-r from-blue-600 to-purple-600 text-white\">\r\n                  <th className=\"px-2 py-2 text-center font-semibold text-xs uppercase tracking-wider border-r border-blue-700\">\r\n                    Horas/Bloq\r\n                  </th>\r\n                  {diasSemana.map(dia => (\r\n                    <th key={dia} className=\"px-2 py-2 text-center font-semibold text-xs uppercase tracking-wider border-r border-blue-700 last:border-r-0\">\r\n                      {dia}\r\n                    </th>\r\n                  ))}\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                {bloques.map(bloque => (\r\n                  [0, 1].map(subIdx => (\r\n                    <tr key={`${bloque.id}-${subIdx}`} className=\"hover:bg-gray-50 transition-colors duration-200\">\r\n                      {subIdx === 0 && (\r\n                        <td\r\n                          rowSpan={2}\r\n                          className=\"px-2 py-3 text-center bg-gradient-to-b from-gray-50 to-gray-100 border-r border-gray-200 font-medium text-gray-700\"\r\n                        >\r\n                          <div className=\"text-lg font-bold text-blue-600 mb-1\">\r\n                            {bloque.id}\r\n                          </div>\r\n                          <div className=\"text-xs text-gray-500 font-medium\">\r\n                            {bloque.hora}\r\n                          </div>\r\n                        </td>\r\n                      )}\r\n                      {diasSemana.map(dia => {\r\n                        const reservaEnSlot = reservasDelDia.find(r =>\r\n                          r.dia === dia &&\r\n                          String(r.bloque) === String(bloque.id) &&\r\n                          r.subBloque === subBloques[subIdx]\r\n                        );\r\n                        \r\n                        const existeReserva = !!reservaEnSlot;\r\n                        \r\n                        return (\r\n                          <td\r\n                            key={`${bloque.id}-${dia}-${subIdx}`}\r\n                            onClick={() => !existeReserva && fechaSeleccionada && handleCeldaClick(bloque, dia, subBloques[subIdx])}\r\n                            className={`px-2 py-2 text-center border-r border-gray-200 last:border-r-0 transition-all duration-200 min-h-[40px] ${\r\n                              existeReserva \r\n                                ? 'bg-gradient-to-br from-red-100 to-pink-100 cursor-not-allowed' \r\n                                : fechaSeleccionada \r\n                                  ? 'bg-gradient-to-br from-green-50 to-emerald-50 cursor-pointer hover:from-green-100 hover:to-emerald-100 hover:shadow-md' \r\n                                  : 'bg-gray-50 cursor-not-allowed'\r\n                            }`}\r\n                          >\r\n                            {existeReserva ? (\r\n                              <div className=\"space-y-0.5\">\r\n                                <div className=\"font-bold text-red-700 text-xs\">Reservado</div>\r\n                                {reservaEnSlot && (\r\n                                  <>\r\n                                    <div className=\"text-xs text-red-600\">\r\n                                      {reservaEnSlot.curso}\r\n                                    </div>\r\n                                    <div className=\"text-xs text-red-500\">\r\n                                      {reservaEnSlot.asignatura}\r\n                                    </div>\r\n                                    <div className=\"text-xs text-red-400\">\r\n                                      {reservaEnSlot.profesor}\r\n                                    </div>\r\n                                  </>\r\n                                )}\r\n                              </div>\r\n                            ) : (\r\n                              fechaSeleccionada && (\r\n                                <div className=\"flex items-center justify-center h-full\">\r\n                                  <span className=\"text-green-600 font-medium text-xs px-1 py-0.5 bg-green-100 rounded\">\r\n                                    Disponible\r\n                                  </span>\r\n                                </div>\r\n                              )\r\n                            )}\r\n                          </td>\r\n                        );\r\n                      })}\r\n                    </tr>\r\n                  ))\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Enlace al calendario */}\r\n        <div className=\"mt-6 p-4 bg-indigo-50 rounded-lg border border-indigo-200\">\r\n          <div className=\"text-center\">\r\n            <div className=\"text-lg font-bold text-indigo-700 mb-2\">\r\n              📅 ¿Quieres ver todas las reservas del mes?\r\n            </div>\r\n            <a \r\n              href=\"/calendario\" \r\n              className=\"inline-block bg-indigo-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-indigo-700 transition-colors duration-200\"\r\n            >\r\n              Ver Calendario Mensual\r\n            </a>\r\n            <div className=\"text-sm text-indigo-600 mt-2\">\r\n              Las reservas que hagas aquí aparecerán automáticamente en el calendario\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Debug section */}\r\n        <div className=\"mt-6 bg-gray-50 rounded-lg p-4 border border-gray-200\">\r\n          <div className=\"font-bold text-gray-700 mb-2\">📊 Estadísticas del Sistema:</div>\r\n          <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-4\">\r\n            <div className=\"bg-blue-100 p-3 rounded-lg text-center\">\r\n              <div className=\"text-2xl font-bold text-blue-600\">{todasLasReservas.length}</div>\r\n              <div className=\"text-sm text-blue-700\">Total Reservas</div>\r\n            </div>\r\n            <div className=\"bg-green-100 p-3 rounded-lg text-center\">\r\n              <div className=\"text-2xl font-bold text-green-600\">{reservasDelDia.length}</div>\r\n              <div className=\"text-sm text-green-700\">Reservas Hoy</div>\r\n            </div>\r\n            <div className=\"bg-purple-100 p-3 rounded-lg text-center\">\r\n              <div className=\"text-2xl font-bold text-purple-600\">\r\n                {new Set(todasLasReservas.map(r => r.profesor)).size}\r\n              </div>\r\n              <div className=\"text-sm text-purple-700\">Profesores Activos</div>\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Últimas reservas */}\r\n          {todasLasReservas.length > 0 && (\r\n            <div>\r\n              <div className=\"font-medium text-gray-700 mb-2\">🕒 Últimas 3 Reservas:</div>\r\n              <div className=\"space-y-2\">\r\n                {todasLasReservas.slice(-3).reverse().map(reserva => (\r\n                  <div key={reserva.id} className=\"bg-white p-2 rounded border text-xs\">\r\n                    <strong>{reserva.curso}</strong> - {reserva.asignatura} | \r\n                    {new Date(reserva.fecha).toLocaleDateString('es-ES')} | \r\n                    Bloque {reserva.bloque} ({reserva.subBloque}) | \r\n                    {reserva.profesor}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Modal para registrar reserva */}\r\n        {modalAbierto && (\r\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 animate-fade-in\">\r\n            <div className=\"bg-white rounded-2xl max-w-sm w-full max-h-[67vh] animate-bounce-in\" style={{boxShadow: '8px 8px 25px rgba(0, 0, 0, 0.3), 4px 4px 15px rgba(0, 0, 0, 0.2)'}}>\r\n              <div className=\"p-4\">\r\n                <h2 className=\"text-xl font-bold text-center mb-4 text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600\">\r\n                  Registrar Reserva\r\n                </h2>\r\n                \r\n                <form onSubmit={handleSubmitReserva} className=\"space-y-3\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-1\">\r\n                      Curso:\r\n                    </label>\r\n                    <select\r\n                      name=\"curso\"\r\n                      value={formData.curso}\r\n                      onChange={handleInputChange}\r\n                      required\r\n                      className=\"w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 focus:outline-none transition-all duration-200\"\r\n                    >\r\n                      <option value=\"\">Selecciona un curso</option>\r\n                      <option value=\"1°A\">1°A</option>\r\n                      <option value=\"1°B\">1°B</option>\r\n                      <option value=\"1°C\">1°C</option>\r\n                      <option value=\"2°A\">2°A</option>\r\n                      <option value=\"2°B\">2°B</option>\r\n                      <option value=\"2°C\">2°C</option>\r\n                      <option value=\"3°A\">3°A</option>\r\n                      <option value=\"3°B\">3°B</option>\r\n                      <option value=\"3°C\">3°C</option>\r\n                      <option value=\"4°A\">4°A</option>\r\n                      <option value=\"4°B\">4°B</option>\r\n                      <option value=\"4°C\">4°C</option>\r\n                      <option value=\"5°A\">5°A</option>\r\n                      <option value=\"5°B\">5°B</option>\r\n                      <option value=\"5°C\">5°C</option>\r\n                      <option value=\"6°A\">6°A</option>\r\n                      <option value=\"6°B\">6°B</option>\r\n                      <option value=\"6°C\">6°C</option>\r\n                      <option value=\"7°A\">7°A</option>\r\n                      <option value=\"7°B\">7°B</option>\r\n                      <option value=\"7°C\">7°C</option>\r\n                      <option value=\"8°A\">8°A</option>\r\n                      <option value=\"8°B\">8°B</option>\r\n                      <option value=\"8°C\">8°C</option>\r\n                    </select>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-1\">\r\n                      Asignatura:\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"asignatura\"\r\n                      value={formData.asignatura}\r\n                      onChange={handleInputChange}\r\n                      required\r\n                      className=\"w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 focus:outline-none transition-all duration-200\"\r\n                      placeholder=\"Ej: Matemáticas\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-1\">\r\n                      Profesor:\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"profesor\"\r\n                      value={formData.profesor}\r\n                      onChange={handleInputChange}\r\n                      required\r\n                      className=\"w-full px-3 py-2 border-2 border-gray-200 rounded-lg bg-gray-50 text-gray-600 cursor-not-allowed\"\r\n                      readOnly\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-1\">\r\n                      Bloque:\r\n                    </label>\r\n                    <select\r\n                      name=\"bloque\"\r\n                      value={formData.bloque}\r\n                      onChange={handleInputChange}\r\n                      required\r\n                      className=\"w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 focus:outline-none transition-all duration-200\"\r\n                    >\r\n                      <option value=\"\">Selecciona un bloque</option>\r\n                      <option value=\"Bloque completo\">Bloque completo</option>\r\n                      <option value=\"1° hora\">1° hora</option>\r\n                      <option value=\"2° hora\">2° hora</option>\r\n                    </select>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-1\">\r\n                      Fecha:\r\n                    </label>\r\n                    <input\r\n                      type=\"date\"\r\n                      name=\"fecha\"\r\n                      value={formData.fecha}\r\n                      onChange={handleInputChange}\r\n                      required\r\n                      className=\"w-full px-3 py-2 border-2 border-gray-200 rounded-lg bg-gray-50 text-gray-600 cursor-not-allowed\"\r\n                      readOnly\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"flex gap-3 pt-2\">\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={cerrarModal}\r\n                      className=\"flex-1 px-4 py-2 border-2 border-red-500 text-red-500 rounded-lg hover:bg-red-50 transition-all duration-200 font-semibold\"\r\n                    >\r\n                      Cancelar\r\n                    </button>\r\n                    <button\r\n                      type=\"submit\"\r\n                      className=\"flex-1 px-4 py-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-lg hover:from-green-600 hover:to-emerald-600 transition-all duration-200 font-semibold shadow-lg hover:shadow-xl\"\r\n                    >\r\n                      Registrar\r\n                    </button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n                      </div>\r\n          )}\r\n\r\n          {/* Pie de página */}\r\n          <div className=\"text-center mt-6 pt-4 border-t border-gray-200\">\r\n            <div className=\"text-xs text-gray-500 leading-tight\">\r\n              <div>Desarrollado por Bit Core</div>\r\n              <div>para Jorge Zúñiga U.</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\nexport default ReservasPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}